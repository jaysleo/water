(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1f9f":function(t,n,e){"use strict";(function(t){e("f4e9");a(e("66fd"));var n=a(e("cca9"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"21a0":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={uSearch:function(){return e.e("uview-ui/components/u-search/u-search").then(e.bind(null,"cf3e"))},uGap:function(){return e.e("uview-ui/components/u-gap/u-gap").then(e.bind(null,"0706"))},uSwiper:function(){return e.e("uview-ui/components/u-swiper/u-swiper").then(e.bind(null,"ef40"))},uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"89bd"))}},i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.prolist,(function(n,e){var a=t.__get_orig(n),i=t.__map(n.pic_arr,(function(n,e){var a=t.__get_orig(n),i=0==e?n.path.substr(1):null;return{$orig:a,g0:i}}));return{$orig:a,l0:i}})));t.$mp.data=Object.assign({},{$root:{l1:e}})},o=[]},6329:function(t,n,e){"use strict";var a=e("788a"),i=e.n(a);i.a},"788a":function(t,n,e){},"8dac":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("a34a")),i=o(e("30a6"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,a,i,o,r){try{var u=t[o](r),c=u.value}catch(s){return void e(s)}u.done?n(c):Promise.resolve(c).then(a,i)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(a,i){var o=t.apply(n,e);function u(t){r(o,a,i,u,c,"next",t)}function c(t){r(o,a,i,u,c,"throw",t)}u(void 0)}))}}var c=function(){e.e("components/loadmore").then(function(){return resolve(e("f1bc"))}.bind(null,e)).catch(e.oe)},s={components:{loadMore:c},data:function(){return{headerTop:"0px",city:"定位中",banner:[],isup:!0,newsData:[],animateUp:!1,newstimer:null,menulist:[{image:"/static/img/index/icon_kf.png",title:"人工客服",url:"/pages/library/service/index"},{image:"/static/img/index/icon_lzpz.png",title:"绿植盆栽",url:"/pages/plant/index"}],brandlist:[],brandlists:[{image:"/static/img/brand/icon_tzs.png",title:"桶装水",style:"width:19rpx;height:24rpx;"},{image:"/static/img/brand/icon_pzs.png",title:"瓶装水",style:"width:31rpx;height:32rpx;"},{image:"/static/img/brand/icon_ysj.png",title:"饮水机",style:"width:18rpx;height:23rpx;"}],isAll:!1,tabcur:0,keywords:"",prolist:[],protype:0,status:"loading",page:1,loadShow:!1}},methods:{verticalChange:function(){this.isup?this.isup=!1:this.isup=!0},scrollAnimate:function(){var t=this;this.animateUp=!0,setTimeout((function(){t.newsData.push(t.newsData[0]),t.newsData.shift(),t.animateUp=!1}),500)},loadData:function(){var t=this;return u(a.default.mark((function n(){return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.http.banner().then((function(n){if(200==n.code){var e=n.data,a=e.map((function(t){return{image:t.domain+t.path.substr(1)}}));t.banner=a}}));case 2:t.$api.http.announce().then((function(n){200==n.code&&(t.newsData=n.data)})),t.$api.http.getCategory().then((function(n){if(200==n.code){var e=n.data;e.forEach((function(n){0==n.pid&&"水"==n.title&&(t.brandlist=n.children)})),t.isAll=!0}})),t.getPro();case 5:case"end":return n.stop()}}),n)})))()},detail:function(n){t.navigateTo({url:"/pages/library/detail/index?id="+n})},goArticle:function(n){t.setStorage({key:"article",data:n}),t.navigateTo({url:"/pages/library/article/index"})},getlocation:function(){var t=this,n=new i.default.AMapWX({key:"920f79168bc1acfc9cbd1710aba2b43c"});n.getRegeo({success:function(n){t.city=n[0].regeocodeData.formatted_address},fail:function(t){console.log(t)}})},goSearch:function(){t.navigateTo({url:"/pages/library/goods/index?key="+this.keywords})},getPro:function(){var t=this;this.$api.http.getProductlist(0,1,this.page,10,this.keywords,this.protype).then((function(n){if(200==n.code){t.prolist=t.prolist.concat(n.data.data);var e=n.data.total;n.data.data.length<=e&&1==t.page&&(t.status="nomore",t.loadShow=!1),0==n.data.data.length&&(t.status="nomore",t.loadShow=!1)}}))},navTo:function(n){t.navigateTo({url:n})},tab:function(t,n){this.tabcur=n,this.protype=n,this.prolist=[],this.page=1,this.getPro()}},onLoad:function(){this.loadData(),this.getlocation()},onShow:function(){},onUnload:function(){},onReachBottom:function(){"nomore"!=this.status&&(this.loadShow=!0,this.status="loading",this.page++,this.getPro())},onPullDownRefresh:function(){t.stopPullDownRefresh(),this.prolist=[],this.page=1,this.loadData()}};n.default=s}).call(this,e("543d")["default"])},cca9:function(t,n,e){"use strict";e.r(n);var a=e("21a0"),i=e("ec0f");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("6329");var r,u=e("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"df0f0208",null,!1,a["a"],r);n["default"]=c.exports},ec0f:function(t,n,e){"use strict";e.r(n);var a=e("8dac"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a}},[["1f9f","common/runtime","common/vendor"]]]);